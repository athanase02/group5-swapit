<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cart — SwapIt</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css" />
  <script src="../assets/js/auth-client.js"></script>
  <script src="../assets/js/nav-manager.js"></script>
  <style>
    .nav-link {
      color: #fff;
      text-decoration: none;
      padding: 4px 0;
      border-bottom: 2px solid transparent;
      transition: border-color 0.2s;
      display: inline-block;
    }
    .nav-link:hover {
      border-color: #7ef9ff;
      text-decoration: none;
    }
  </style>
  <style>
    .cart-item {
      display: flex;
      gap: 20px;
      padding: 20px;
      background: #11131a;
      border: 1px solid #1e2434;
      border-radius: 12px;
      margin-bottom: 16px;
      align-items: center;
    }
    .cart-item img {
      width: 120px;
      height: 120px;
      object-fit: cover;
      border-radius: 8px;
    }
    .cart-item-details {
      flex: 1;
    }
    .cart-item-title {
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 8px;
    }
    .cart-item-price {
      color: #7ef9ff;
      font-size: 1.1rem;
      font-weight: 600;
    }
    .cart-item-actions {
      display: flex;
      gap: 10px;
    }
    .cart-summary {
      background: #11131a;
      border: 1px solid #1e2434;
      border-radius: 12px;
      padding: 24px;
      margin-top: 24px;
    }
    .summary-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
      font-size: 1.1rem;
    }
    .summary-total {
      font-size: 1.5rem;
      font-weight: 700;
      color: #7ef9ff;
      border-top: 2px solid #1e2434;
      padding-top: 12px;
      margin-top: 12px;
    }
  </style>
</head>
<body>
  <header class="nav" id="siteHeader">
    <div class="container nav__bar">
      <a class="logo" href="home.html" style="display:flex;align-items:center;gap:8px"><img src="../assets/images/logo.png" alt="SwapIt Logo" style="width:40px;height:40px;border-radius:50%;object-fit:cover"></a>
      <nav class="nav__menu">
        <a href="home.html">Home</a>
        <a href="browse.html">Browse</a>
      </nav>
      <div class="nav__cta">
        <div class="nav__auth" style="display:flex;gap:16px;align-items:center">
          <div class="account-dropdown">
            <button class="btn btn--primary account-dropdown-btn" onclick="toggleAccountDropdown(event)">
              <i class="fas fa-user"></i>
              Account
              <i class="fas fa-chevron-down"></i>
            </button>
            <div class="account-dropdown-menu">
              <a href="login.html"><i class="fas fa-sign-in-alt"></i> Login</a>
              <a href="signup.html"><i class="fas fa-user-plus"></i> Sign Up</a>
            </div>
          </div>
          <a href="wishlist.html" class="wishlist-widget" style="position:relative;display:flex;flex-direction:column;align-items:center;text-decoration:none;color:#fff">
            <i class="fas fa-heart" style="font-size:1.3rem;color:#ff7df2"></i>
            <span style="font-size:0.65rem;font-weight:600;margin-top:2px">Wishlist</span>
            <span id="wishlistCount" style="position:absolute;top:-6px;right:-6px;background:#ff7df2;color:#fff;border-radius:50%;width:18px;height:18px;display:none;align-items:center;justify-content:center;font-size:0.65rem;font-weight:700">0</span>
          </a>
          <a href="cart.html" class="cart-widget" style="position:relative;display:flex;flex-direction:column;align-items:center;text-decoration:none;color:#fff">
            <i class="fas fa-shopping-cart" style="font-size:1.3rem;color:#7ef9ff"></i>
            <span style="font-size:0.65rem;font-weight:600;margin-top:2px">Cart</span>
            <span id="cartCount" style="position:absolute;top:-6px;right:-6px;background:#ff7df2;color:#fff;border-radius:50%;width:18px;height:18px;display:flex;align-items:center;justify-content:center;font-size:0.65rem;font-weight:700">0</span>
          </a>
        </div>
        <button class="nav__toggle" id="navToggle" aria-label="Open menu" aria-expanded="false">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>
    <div class="nav__drawer" id="navDrawer" aria-label="Mobile" data-open="false">
      <a href="home.html">Home</a>
      <a href="browse.html">Browse</a>
      <div class="nav__search">
        <i class="fas fa-search"></i>
        <input type="search" placeholder="Search items..." aria-label="Search items">
      </div>
      <div class="nav__auth">
        <a class="btn btn--outline w-100 mb-2" href="login.html">Log in</a>
        <a class="btn btn--primary w-100" href="signup.html">Sign up</a>
      </div>
    </div>
  </header>

  <div class="container" style="padding:48px 16px">
    <h1 style="margin-bottom:2rem">Your Cart</h1>
    
    <div id="cartList">
      <!-- Sample Cart Item 1 -->
      <div class="cart-item">
        <img src="../assets/images/projector ashesi.jpg" alt="Projector">
        <div class="cart-item-details">
          <div class="cart-item-title">Classroom Projector</div>
          <p style="color:#9aa5c3;margin:8px 0">HD projector for lectures and presentations</p>
          <div class="cart-item-price">GHS 50/day</div>
          <div style="margin-top:8px">
            <label>Duration: <input type="number" value="2" min="1" style="width:60px;padding:4px 8px;background:#0a0b10;border:1px solid #1e2434;color:#fff;border-radius:6px"> days</label>
          </div>
        </div>
        <div class="cart-item-actions">
          <button class="btn btn--ghost" style="padding:8px 16px"><i class="fas fa-trash"></i></button>
        </div>
      </div>

      <!-- Sample Cart Item 2 -->
      <div class="cart-item">
        <img src="../assets/images/bicycle.jpeg" alt="Bicycle">
        <div class="cart-item-details">
          <div class="cart-item-title">Campus Bicycle</div>
          <p style="color:#9aa5c3;margin:8px 0">Lightweight bicycle for campus transport</p>
          <div class="cart-item-price">GHS 15/day</div>
          <div style="margin-top:8px">
            <label>Duration: <input type="number" value="5" min="1" style="width:60px;padding:4px 8px;background:#0a0b10;border:1px solid #1e2434;color:#fff;border-radius:6px"> days</label>
          </div>
        </div>
        <div class="cart-item-actions">
          <button class="btn btn--ghost" style="padding:8px 16px"><i class="fas fa-trash"></i></button>
        </div>
      </div>

      <!-- Sample Cart Item 3 -->
      <div class="cart-item">
        <img src="../assets/images/ashesi textbook.jpg" alt="Textbooks">
        <div class="cart-item-details">
          <div class="cart-item-title">Course Textbooks Collection</div>
          <p style="color:#9aa5c3;margin:8px 0">Programming and engineering textbooks</p>
          <div class="cart-item-price">Free</div>
          <div style="margin-top:8px">
            <label>Duration: <input type="number" value="14" min="1" style="width:60px;padding:4px 8px;background:#0a0b10;border:1px solid #1e2434;color:#fff;border-radius:6px"> days</label>
          </div>
        </div>
        <div class="cart-item-actions">
          <button class="btn btn--ghost" style="padding:8px 16px"><i class="fas fa-trash"></i></button>
        </div>
      </div>
    </div>

    <div id="cartSummary" class="cart-summary">
      <!-- Summary will be dynamically generated -->
    </div>

    <div style="margin-top:24px">
      <label style="display:block;margin-bottom:8px;font-weight:600">Pickup Date & Time</label>
      <input id="pickupAt" type="datetime-local" style="padding:12px;background:#11131a;border:1px solid #1e2434;color:#fff;border-radius:8px;width:100%;max-width:400px">
    </div>

    <div style="margin-top:24px;display:flex;gap:12px">
      <button id="checkoutBtn" class="btn btn--primary" style="padding:14px 32px">Proceed to Checkout</button>
      <a href="browse.html" class="btn btn--ghost">Continue browsing</a>
    </div>
  </div>

  <footer class="sitefoot">
    <div class="container">
      <div class="sitefoot__bottom">
        <div style="display:flex;align-items:center;justify-content:center;gap:8px;width:100%">
          <img src="../assets/images/logo.png" alt="SwapIt Logo" style="width:32px;height:32px;border-radius:50%;object-fit:cover">
          <small>SwapIt Ltd. &copy; All rights reserved <span id="year">2025</span></small>
        </div>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    
    /**
     * Toggle account dropdown menu visibility
     */
    function toggleAccountDropdown(event) {
      if (event) {
        event.stopPropagation();
      }
      const dropdown = document.querySelector('.account-dropdown');
      if (dropdown) {
        dropdown.classList.toggle('active');
      }
    }
    
    /**
     * Close dropdown when user clicks outside
     */
    document.addEventListener('click', function(event) {
      const dropdown = document.querySelector('.account-dropdown');
      if (dropdown && !dropdown.contains(event.target)) {
        dropdown.classList.remove('active');
      }
    });
  </script>
  <script src="../assets/js/script.js"></script>
  <script src="../assets/js/cart.js"></script>
  <script src="../assets/js/cart-checkout.js"></script>
</body>
</html>
