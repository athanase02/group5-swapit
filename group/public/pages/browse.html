<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Browse Items — SwapIt</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css" />
  <script src="../assets/js/auth-client.js"></script>
  <script src="../assets/js/nav-manager.js"></script>
</head>
<body>
  <header class="nav" id="siteHeader">
    <div class="container nav__bar">
      <a class="logo" href="home.html" style="display:flex;align-items:center;gap:8px"><img src="../assets/images/logo.png" alt="SwapIt Logo" style="width:40px;height:40px;border-radius:50%;object-fit:cover"></a>
      <nav class="nav__menu">
        <a href="home.html">Home</a>
        <a href="browse.html" style="border-bottom:2px solid #7ef9ff">Browse</a>
      </nav>
      <div class="nav__cta">
        <div class="nav__search">
          <i class="fas fa-search"></i>
          <input type="search" id="navSearch" placeholder="Search items..." aria-label="Search items">
        </div>
        <div class="nav__auth" style="display:flex;gap:16px;align-items:center">
          <div class="account-dropdown">
            <button class="btn btn--primary account-dropdown-btn" onclick="toggleAccountDropdown(event)">
              <i class="fas fa-user"></i>
              Account
              <i class="fas fa-chevron-down"></i>
            </button>
            <div class="account-dropdown-menu">
              <a href="login.html"><i class="fas fa-sign-in-alt"></i> Login</a>
              <a href="signup.html"><i class="fas fa-user-plus"></i> Sign Up</a>
            </div>
          </div>
          <a href="wishlist.html" class="wishlist-widget" style="position:relative;display:flex;flex-direction:column;align-items:center;text-decoration:none;color:#fff">
            <i class="fas fa-heart" style="font-size:1.3rem;color:#ff7df2"></i>
            <span style="font-size:0.65rem;font-weight:600;margin-top:2px">Wishlist</span>
            <span id="wishlistCount" style="position:absolute;top:-6px;right:-6px;background:#ff7df2;color:#fff;border-radius:50%;width:18px;height:18px;display:none;align-items:center;justify-content:center;font-size:0.65rem;font-weight:700">0</span>
          </a>
          <a href="cart.html" class="cart-widget" style="position:relative;display:flex;flex-direction:column;align-items:center;text-decoration:none;color:#fff">
            <i class="fas fa-shopping-cart" style="font-size:1.3rem;color:#7ef9ff"></i>
            <span style="font-size:0.65rem;font-weight:600;margin-top:2px">Cart</span>
            <span id="cartCount" style="position:absolute;top:-6px;right:-6px;background:#ff7df2;color:#fff;border-radius:50%;width:18px;height:18px;display:flex;align-items:center;justify-content:center;font-size:0.65rem;font-weight:700">0</span>
          </a>
        </div>
        <button class="nav__toggle" id="navToggle" aria-label="Open menu" aria-expanded="false">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>
    <div class="nav__drawer" id="navDrawer" aria-label="Mobile" data-open="false">
      <a href="home.html">Home</a>
      <a href="browse.html">Browse</a>
      <div class="nav__search">
        <i class="fas fa-search"></i>
        <input type="search" placeholder="Search items..." aria-label="Search items">
      </div>
      <div class="nav__auth">
        <a class="btn btn--outline w-100 mb-2" href="login.html">Log in</a>
        <a class="btn btn--primary w-100" href="signup.html">Sign up</a>
      </div>
    </div>
  </header>

  <main class="section">
    <div class="container">
      <div style="text-align:center;padding:40px 0 20px;background:linear-gradient(135deg, rgba(126,249,255,0.1), rgba(91,124,254,0.1));border-radius:16px;margin-bottom:2rem">
        <h1 class="hero__title hero__title--animated" id="browseTitle" data-text="DISCOVER AMAZING ITEMS|BORROW, LEND, THRIVE" style="font-size:2.5rem;margin:0"></h1>
        <p style="color:#9aa5c3;margin-top:1rem;font-size:1.1rem">Your marketplace for peer-to-peer sharing</p>
      </div>

      <!-- Filters toolbar -->
      <div class="split__grid" style="align-items:center;margin-bottom:18px;">
        <div style="display:flex;gap:12px;flex-wrap:wrap;align-items:center;">
          <div>
            <label style="font-weight:700;margin-right:6px">Category</label>
            <select id="filterCategory">
              <option value="">All</option>
              <option value="electronics">Electronics</option>
              <option value="transport">Transport</option>
              <option value="books">Books</option>
              <option value="clothing">Clothing</option>
              <option value="music">Music</option>
              <option value="home">Home</option>
            </select>
          </div>

          <div>
            <label style="font-weight:700;margin-right:6px">Location</label>
            <select id="filterLocation">
              <option value="">All</option>
              <option value="Ashesi">Ashesi University, Berekuso</option>
              <option value="Accra">Accra</option>
              <option value="Kumasi">Kumasi</option>
              <option value="Tamale">Tamale</option>
              <option value="Takoradi">Takoradi</option>
              <option value="Tema">Tema</option>
              <option value="Berekuso">Berekuso</option>
              <option value="Kwabenya">Kwabenya</option>
              <option value="Madina">Madina</option>
              <option value="Lapaz">Lapaz</option>
            </select>
          </div>

          <div>
            <label style="font-weight:700;margin-right:6px">Price GHS</label>
            <input id="filterMin" type="number" placeholder="Min" style="width:80px;padding:6px;border-radius:8px;border:1px solid #223050"> -
            <input id="filterMax" type="number" placeholder="Max" style="width:80px;padding:6px;border-radius:8px;border:1px solid #223050">
          </div>

          <div>
            <label style="font-weight:700;margin-right:6px">Sort</label>
            <select id="sortBy">
              <option value="recent">Most Recent</option>
              <option value="price-low">Price: Low to High</option>
              <option value="price-high">Price: High to Low</option>
            </select>
          </div>
        </div>

        <div style="text-align:right;">
          <input id="pageSearch" type="search" placeholder="Search items by title or description" style="padding:8px 12px;border-radius:10px;border:1px solid #223050;width:320px;"> 
        </div>
      </div>

      <div class="cards cards--4" id="itemsGrid">
        <!-- Items with data attributes for filtering -->
        <article class="card" data-category="electronics" data-price="50" data-location="Ashesi" data-title="Classroom Projector">
          <img class="card__thumb" src="../assets/images/projector ashesi.jpg" alt="Projector">
          <h3>Classroom Projector</h3>
          <p>HD projector for lectures and presentations at Ashesi.</p>
          <div class="card__meta">GHS 50/day — Ashesi University, Berekuso</div>
        </article>

        <article class="card" data-category="transport" data-price="15" data-location="Ashesi" data-title="Campus Bicycle">
          <img class="card__thumb" src="../assets/images/bicycle.jpeg" alt="Bicycle">
          <h3>Campus Bicycle</h3>
          <p>Lightweight bike for moving around Ashesi campus.</p>
          <div class="card__meta">GHS 15/day — Ashesi University</div>
        </article>

        <article class="card" data-category="books" data-price="0" data-location="Ashesi" data-title="Textbooks Collection">
          <img class="card__thumb" src="../assets/images/ashesi textbook.jpg" alt="Textbooks">
          <h3>Course Textbooks Collection</h3>
          <p>Programming and engineering textbooks available for short-term borrowing.</p>
          <div class="card__meta">Free — Ashesi University Library</div>
        </article>

        <article class="card" data-category="clothing" data-price="80" data-location="Accra" data-title="Kente Cloth Set">
          <img class="card__thumb" src="../assets/images/kente cloth.jpg" alt="Kente Cloth">
          <h3>Kente Cloth Set</h3>
          <p>Traditional Kente cloth set from Accra artisans.</p>
          <div class="card__meta">GHS 80/day — Accra</div>
        </article>

        <article class="card" data-category="music" data-price="60" data-location="Kumasi" data-title="Drum Set">
          <img class="card__thumb" src="../assets/images/drum set.jpg" alt="Drum Set">
          <h3>Traditional Drum Set</h3>
          <p>High-quality drum set for performances.</p>
          <div class="card__meta">GHS 60/day — Kumasi</div>
        </article>

        <article class="card" data-category="electronics" data-price="20" data-location="Accra" data-title="Portable Speaker">
          <img class="card__thumb" src="../assets/images/portable speaker.jpg" alt="Speaker">
          <h3>Portable Bluetooth Speaker</h3>
          <p>Compact speaker perfect for events and gatherings.</p>
          <div class="card__meta">GHS 20/day — Accra</div>
        </article>

        <article class="card" data-category="home" data-price="35" data-location="Accra" data-title="Blender">
          <img class="card__thumb" src="../assets/images/blender.jpeg" alt="Blender">
          <h3>Kitchen Blender</h3>
          <p>High-speed blender for smoothies and meals.</p>
          <div class="card__meta">GHS 35/day — Accra</div>
        </article>

        <article class="card" data-category="electronics" data-price="25" data-location="Tamale" data-title="Camera">
          <img class="card__thumb" src="../assets/images/camera.jpg" alt="Camera">
          <h3>Digital Camera</h3>
          <p>DSLR for photography projects and events.</p>
          <div class="card__meta">GHS 25/day — Tamale</div>
        </article>

        <article class="card" data-category="home" data-price="40" data-location="Ashesi" data-title="Camping Tent">
          <img class="card__thumb" src="../assets/images/camping tent.jpg" alt="Tent">
          <h3>Camping Tent</h3>
          <p>4-person tent suitable for outings around Berekuso.</p>
          <div class="card__meta">GHS 40/day — Ashesi/Berekuso</div>
        </article>

        <article class="card" data-category="electronics" data-price="10" data-location="Accra" data-title="Powerbank">
          <img class="card__thumb" src="../assets/images/power bank.png" alt="Powerbank">
          <h3>Powerbank 20,000mAh</h3>
          <p>Portable charger for phones and small devices.</p>
          <div class="card__meta">GHS 10/day — Accra</div>
        </article>

        <article class="card" data-category="electronics" data-price="45" data-location="Ashesi" data-title="Camera+Lens">
          <img class="card__thumb" src="../assets/images/camera lens.jpeg" alt="Lens">
          <h3>Camera + Lens Kit</h3>
          <p>Camera kit suitable for student film projects.</p>
          <div class="card__meta">GHS 45/day — Ashesi</div>
        </article>

        <article class="card" data-category="home" data-price="12" data-location="Accra" data-title="Projector+Adapter">
          <img class="card__thumb" src="../assets/images/adapter.jpg" alt="Adapter">
          <h3>HDMI Adapter / Cables</h3>
          <p>Adapters and cables for projectors and laptops.</p>
          <div class="card__meta">GHS 12/day — Accra</div>
        </article>
        <!-- Additional items to ensure categories exist across locations -->
        <article class="card" data-category="transport" data-price="20" data-location="Accra" data-title="City Bicycle">
          <img class="card__thumb" src="../assets/images/city bicycle.jpeg" alt="City Bicycle">
          <h3>City Bicycle</h3>
          <p>Comfortable city bicycle for short trips around Accra.</p>
          <div class="card__meta">GHS 20/day — Accra</div>
        </article>

        <article class="card" data-category="books" data-price="0" data-location="Accra" data-title="Reference+Texts">
          <img class="card__thumb" src="../assets/images/reference texts.jpg" alt="Reference Texts">
          <h3>Reference Texts</h3>
          <p>Collection of university reference books available in Accra.</p>
          <div class="card__meta">Free — Accra</div>
        </article>

        <article class="card" data-category="clothing" data-price="25" data-location="Ashesi" data-title="Graduation+Gown">
          <img class="card__thumb" src="../assets/images/graduation gown.png" alt="Gown">
          <h3>Graduation Gown</h3>
          <p>Academic gown available for ceremonies at Ashesi.</p>
          <div class="card__meta">GHS 25/day — Ashesi University</div>
        </article>

        <article class="card" data-category="music" data-price="30" data-location="Ashesi" data-title="Portable+Keyboard">
          <img class="card__thumb" src="../assets/images/portable keyboard.jpeg" alt="Keyboard">
          <h3>Portable Keyboard</h3>
          <p>61-key portable keyboard, ideal for rehearsals and lessons on campus.</p>
          <div class="card__meta">GHS 30/day — Ashesi</div>
        </article>

        <article class="card" data-category="music" data-price="35" data-location="Accra" data-title="Djembe+Drum">
          <img class="card__thumb" src="../assets/images/djembe drum.jpg" alt="Djembe Drum">
          <h3>Djembe Drum</h3>
          <p>Traditional djembe drum for percussion sessions and events.</p>
          <div class="card__meta">GHS 35/day — Accra</div>
        </article>
      </div>
    </div>
  </main>

  <div style="height:36px"></div>

  <footer class="sitefoot">
    <div class="container">
      <div class="sitefoot__grid">
        <div class="sitefoot__col">
          <a class="logo" href="home.html"><span>SWAP</span>IT</a>
          <p>Borrow what you need. Lend what you don't. Simple, safe, sustainable.</p>
          <div class="sitefoot__social">
            <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
            <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://www.linkedin.com" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
          </div>
        </div>

        <div class="sitefoot__col">
          <h4>Explore</h4>
          <ul>
            <li><a href="home.html#home">Home</a></li>
            <li><a href="home.html">How it works</a></li>
            <li><a href="home.html#featured">Featured</a></li>
            <li><a href="browse.html">All listings</a></li>
          </ul>
        </div>

        <div class="sitefoot__col">
          <h4>Company</h4>
          <ul>
            <li><a href="home.html#about-us">About Us</a></li>
            <li><a href="home.html">Success Stories</a></li>
            <li><a href="home.html">Contact</a></li>
            <li><a href="home.html#faq">FAQ</a></li>
          </ul>
        </div>

        <div class="sitefoot__col">
          <h4>Legal</h4>
          <ul>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms of Service</a></li>
            <li><a href="#">Community Guidelines</a></li>
          </ul>
        </div>
      </div>

      <div class="sitefoot__bottom">
        <div style="display:flex;align-items:center;justify-content:center;gap:8px;width:100%">
          <img src="../assets/images/logo.png" alt="SwapIt Logo" style="width:32px;height:32px;border-radius:50%;object-fit:cover">
          <small>SwapIt Ltd. &copy; All rights reserved <span id="year">2025</span></small>
        </div>
      </div>
    </div>
  </footer>

  <div id="notification" style="position:fixed;top:80px;right:20px;padding:16px 24px;background:linear-gradient(135deg,#7ef9ff,#5b7cfe);color:#0a0b10;border-radius:12px;font-weight:600;box-shadow:0 8px 24px rgba(0,0,0,0.3);transform:translateX(400px);transition:transform 0.3s ease;z-index:10000;display:flex;align-items:center;gap:12px">
    <i class="fas fa-check-circle" style="font-size:1.2rem;"></i>
    <span id="notificationText"></span>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    
    /**
     * Update cart badge count
     */
    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem('swapit_cart') || '[]');
      const cartCount = document.getElementById('cartCount');
      if (cartCount) {
        cartCount.textContent = cart.length;
        if (cart.length > 0) {
          cartCount.style.display = 'flex';
        } else {
          cartCount.style.display = 'none';
        }
      }
    }
    
    // Update wishlist count
    window.updateWishlistCount = function() {
      const wishlist = JSON.parse(localStorage.getItem('swapit_wishlist') || '[]');
      const wishlistCount = document.getElementById('wishlistCount');
      if (wishlistCount) {
        wishlistCount.textContent = wishlist.length;
        if (wishlist.length > 0) {
          wishlistCount.style.display = 'flex';
        } else {
          wishlistCount.style.display = 'none';
        }
      }
    };
    
    // Show custom notification
    window.showNotification = function(message) {
      const notification = document.getElementById('notification');
      const notificationText = document.getElementById('notificationText');
      notificationText.textContent = message;
      notification.style.transform = 'translateX(0)';
      setTimeout(() => {
        notification.style.transform = 'translateX(400px)';
      }, 3000);
    };
    
    /**
     * Initialize badge counts on page load
     */
    updateCartCount();
    updateWishlistCount();
    
    /**
     * Update badge counts on storage change (cross-tab sync)
     */
    window.addEventListener('storage', () => {
      updateCartCount();
      updateWishlistCount();
    });
    
    /**
     * Typing Animation for Browse Title
     * Simulates typewriter effect with multiple text lines
     */
    const browseTitle = document.getElementById('browseTitle');
    if (browseTitle) {
      const lines = browseTitle.dataset.text.split('|');
      let lineIndex = 0;
      let charIndex = 0;
      let isDeleting = false;
      let currentLine = '';
      
      function typeEffect() {
        const fullText = lines[lineIndex];
        
        if (isDeleting) {
          currentLine = fullText.substring(0, charIndex - 1);
          charIndex--;
        } else {
          currentLine = fullText.substring(0, charIndex + 1);
          charIndex++;
        }
        
        // Update the display
        if (lineIndex === 0) {
          browseTitle.innerHTML = currentLine;
        } else {
          browseTitle.innerHTML = lines[0] + '<br>' + currentLine;
        }
        
        let typingSpeed = 100;
        
        if (isDeleting) {
          typingSpeed = 50;
        }
        
        // When line is complete
        if (!isDeleting && charIndex === fullText.length) {
          if (lineIndex === lines.length - 1) {
            typingSpeed = 3000;
            isDeleting = true;
          } else {
            lineIndex++;
            charIndex = 0;
            typingSpeed = 500;
          }
        }
        // When deletion is complete
        else if (isDeleting && charIndex === 0) {
          isDeleting = false;
          if (lineIndex > 0) {
            lineIndex = 0;
          }
          typingSpeed = 500;
        }
        
        setTimeout(typeEffect, typingSpeed);
      }
      
      setTimeout(typeEffect, 500);
    }
    
    /**
     * Connect category dropdown to filter system
     */
    const categoryDropdown = document.getElementById('categoryDropdown');
    if (categoryDropdown) {
      categoryDropdown.addEventListener('change', function() {
        const filterCategory = document.getElementById('filterCategory');
        if (filterCategory) {
          filterCategory.value = this.value;
          filterCategory.dispatchEvent(new Event('change'));
        }
      });
    }
    
    /**
     * Toggle account dropdown menu visibility
     */
    function toggleAccountDropdown(event) {
      if (event) {
        event.stopPropagation();
      }
      const dropdown = document.querySelector('.account-dropdown');
      if (dropdown) {
        dropdown.classList.toggle('active');
      }
    }
    
    /**
     * Close dropdown when user clicks outside
     */
    document.addEventListener('click', function(event) {
      const dropdown = document.querySelector('.account-dropdown');
      if (dropdown && !dropdown.contains(event.target)) {
        dropdown.classList.remove('active');
      }
    });
  </script>
  <script src="../assets/js/script.js"></script>
  <script src="../assets/js/cript.js"></script>
  <script src="../assets/js/browse.js"></script>
  <script src="../assets/js/cart.js"></script>
</body>
</html>

